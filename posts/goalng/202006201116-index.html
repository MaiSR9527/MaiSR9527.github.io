<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>golang学习十六：文件操作 | maiBlog</title><meta name="description" content="os包结构介绍 Go语言标准库中os包提供了不依赖平台的操作系统接口 设计为Unix风格的，而错误处理是go风格的,失败的调用会返回错误值而非错误码。通常错误值里包含更多信息 os包及子包功能1234-- os 包  --os&#x2F;exec 包,负责执行外部命令.  --os&#x2F;signal对输入信息的访问  --os&#x2F;user 通过名称或ID	查询用户账户 在os&#x2F;use"><meta name="keywords" content="golang,入门"><meta name="author" content="maishuren"><meta name="copyright" content="maishuren"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/bitbug-favicon-32x32.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="dns-prefetch" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://hm.baidu.com"/><link rel="dns-prefetch" href="https://hm.baidu.com"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"/><link rel="dns-prefetch" href="https://fonts.googleapis.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="dns-prefetch" href="//busuanzi.ibruce.info"/><meta name="twitter:card" content="summary"><meta name="twitter:title" content="golang学习十六：文件操作"><meta name="twitter:description" content="os包结构介绍 Go语言标准库中os包提供了不依赖平台的操作系统接口 设计为Unix风格的，而错误处理是go风格的,失败的调用会返回错误值而非错误码。通常错误值里包含更多信息 os包及子包功能1234-- os 包  --os&#x2F;exec 包,负责执行外部命令.  --os&#x2F;signal对输入信息的访问  --os&#x2F;user 通过名称或ID	查询用户账户 在os&#x2F;use"><meta name="twitter:image" content="https://code.aliyun.com/msr/blog-pic/raw/master/banner/blogbanner6.jpg"><meta property="og:type" content="article"><meta property="og:title" content="golang学习十六：文件操作"><meta property="og:url" content="https://www.maishuren.top/posts/goalng/202006201116-"><meta property="og:site_name" content="maiBlog"><meta property="og:description" content="os包结构介绍 Go语言标准库中os包提供了不依赖平台的操作系统接口 设计为Unix风格的，而错误处理是go风格的,失败的调用会返回错误值而非错误码。通常错误值里包含更多信息 os包及子包功能1234-- os 包  --os&#x2F;exec 包,负责执行外部命令.  --os&#x2F;signal对输入信息的访问  --os&#x2F;user 通过名称或ID	查询用户账户 在os&#x2F;use"><meta property="og:image" content="https://code.aliyun.com/msr/blog-pic/raw/master/banner/blogbanner6.jpg"><meta property="article:published_time" content="2020-06-20T03:16:19.000Z"><meta property="article:modified_time" content="2020-07-12T14:17:21.610Z"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>var autoChangeMode = '1'
var t = Cookies.get("theme")
if (autoChangeMode == '1'){
  var isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
  var isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
  var isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined){
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport){
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour < 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
  }
  } else if (t == 'light') activateLightMode()
  else activateDarkMode()

} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><link rel="canonical" href="https://www.maishuren.top/posts/goalng/202006201116-"><link rel="prev" title="golang学习十七：反射" href="https://www.maishuren.top/posts/goalng/202006201120-index.html"><link rel="next" title="golang学习十五：错误异常处理" href="https://www.maishuren.top/posts/goalng/202006201059-index.html"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.5/dist/instantsearch.min.css"><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.5/dist/instantsearch.min.js" defer></script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?0d6717a65ff7b5a1f6c9a03d9d87f2f4";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: {"appId":"HLCQW4XQIU","apiKey":"2b769a4e28e86d9b2629a08dec449623","indexName":"myblog","hits":{"per_page":6},"languages":{"input_placeholder":"搜索文章","hits_empty":"找不到您查询的内容:${query}","hits_stats":"找到 ${hits} 条结果，用时 ${time} 毫秒"}},
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: {"bookmark":{"message_prev":"按","message_next":"键将本页加入书签"},"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#2d3035","position":"bottom-left"},
  baiduPush: true,
  highlightCopy: true,
  highlightLang: true,
  highlightShrink: 'false',
  isFontAwesomeV5: false,
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
  
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isSidebar: true  
  }</script><noscript><style>
#page-header {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><link rel="stylesheet" href="https://at.alicdn.com/t/font_1900832_ry85jxoks1.css"><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="maiBlog" type="application/atom+xml">
</head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><canvas class="fireworks"></canvas><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="https://code.aliyun.com/msr/blog-pic/raw/master/blog/newavatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">53</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">32</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">13</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 娱乐</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/playlist/"><i class="fa-fw fa fa-music"></i><span> /歌单</span></a></li></ul></div></div></div></div><i class="fa fa-arrow-right on" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#os包结构介绍"><span class="toc-number">1.</span> <span class="toc-text">os包结构介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#代码示例"><span class="toc-number">1.1.</span> <span class="toc-text">代码示例</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#os包内容介绍"><span class="toc-number">2.</span> <span class="toc-text">os包内容介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#资源路径"><span class="toc-number">2.1.</span> <span class="toc-text">资源路径</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#代码示例-1"><span class="toc-number">2.2.</span> <span class="toc-text">代码示例</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#输入流"><span class="toc-number">3.</span> <span class="toc-text">输入流</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#代码演示"><span class="toc-number">3.1.</span> <span class="toc-text">代码演示</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#输入流-1"><span class="toc-number">4.</span> <span class="toc-text">输入流</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#代码操作"><span class="toc-number">4.1.</span> <span class="toc-text">代码操作</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ioutil包"><span class="toc-number">5.</span> <span class="toc-text">ioutil包</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#代码演示-1"><span class="toc-number">5.1.</span> <span class="toc-text">代码演示</span></a></li></ol></li></ol></div></div></div><div id="body-wrap"><div class="post-bg" id="nav" style="background-image: url(https://code.aliyun.com/msr/blog-pic/raw/master/banner/blogbanner6.jpg)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">maiBlog</a></span><span class="pull_right menus"><div id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 娱乐</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/playlist/"><i class="fa-fw fa fa-music"></i><span> /歌单</span></a></li></ul></div></div><span class="toggle-menu close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span></span></div><div id="post-info"><div id="post-title"><div class="posttitle">golang学习十六：文件操作</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="发表于 2020-06-20 11:16:19"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2020-06-20</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="更新于 2020-07-12 22:17:21"><i class="fa fa-history" aria-hidden="true"></i> 更新于 2020-07-12</span></time><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/%E5%90%8E%E7%AB%AF/">后端</a><i class="fa fa-angle-right post-meta__separator" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/%E5%90%8E%E7%AB%AF/golang/">golang</a></span></div><div class="meta-secondline"> <span class="post-meta-wordcount"><i class="post-meta__icon fa fa-file-word-o" aria-hidden="true"></i><span>字数总计:</span><span class="word-count">3.4k</span><span class="post-meta__separator">|</span><i class="post-meta__icon fa fa-clock-o" aria-hidden="true"></i><span>阅读时长: 14 分钟</span></span></div><div class="meta-thirdline"><span class="post-meta-pv-cv"><span class="post-meta__separator">|</span><i class="fa fa-eye post-meta__icon" aria-hidden="true"> </i><span>阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"><span class="post-meta__separator">|</span><i class="post-meta__icon fa fa-comment-o" aria-hidden="true"></i><span>评论数:</span><a href="/posts/goalng/202006201116-index.html#post-comment" itemprop="discussionUrl"><span class="valine-comment-count comment-count" data-xid="/posts/goalng/202006201116-index.html" itemprop="commentCount"></span></a></span></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h1 id="os包结构介绍"><a href="#os包结构介绍" class="headerlink" title="os包结构介绍"></a>os包结构介绍</h1><ul>
<li>Go语言标准库中os包提供了不依赖平台的操作系统接口</li>
<li>设计为Unix风格的，而错误处理是go风格的,失败的调用会返回错误值而非错误码。通常错误值里包含更多信息</li>
<li>os包及子包功能<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-- os 包</span><br><span class="line">  --os&#x2F;exec 包,负责执行外部命令.</span><br><span class="line">  --os&#x2F;signal对输入信息的访问</span><br><span class="line">  --os&#x2F;user 通过名称或ID	查询用户账户</span><br></pre></td></tr></table></figure></li>
<li>在os/user中提供了User结构体,表示操作系统用户<ul>
<li>Uid 用户id</li>
<li>Gid 所属组id</li>
<li>Username 用户名</li>
<li>Name 所属组名</li>
<li>HomeDir 用户对应文件夹路径<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// User represents a user account.</span></span><br><span class="line"><span class="keyword">type</span> User <span class="keyword">struct</span> &#123;</span><br><span class="line">	<span class="comment">// Uid is the user ID.</span></span><br><span class="line">	<span class="comment">// On POSIX systems, this is a decimal number representing the uid.</span></span><br><span class="line">	<span class="comment">// On Windows, this is a security identifier (SID) in a string format.</span></span><br><span class="line">	<span class="comment">// On Plan 9, this is the contents of /dev/user.</span></span><br><span class="line">	Uid <span class="keyword">string</span></span><br><span class="line">	<span class="comment">// Gid is the primary group ID.</span></span><br><span class="line">	<span class="comment">// On POSIX systems, this is a decimal number representing the gid.</span></span><br><span class="line">	<span class="comment">// On Windows, this is a SID in a string format.</span></span><br><span class="line">	<span class="comment">// On Plan 9, this is the contents of /dev/user.</span></span><br><span class="line">	Gid <span class="keyword">string</span></span><br><span class="line">	<span class="comment">// Username is the login name.</span></span><br><span class="line">	Username <span class="keyword">string</span></span><br><span class="line">	<span class="comment">// Name is the user's real or display name.</span></span><br><span class="line">	<span class="comment">// It might be blank.</span></span><br><span class="line">	<span class="comment">// On POSIX systems, this is the first (or only) entry in the GECOS field</span></span><br><span class="line">	<span class="comment">// list.</span></span><br><span class="line">	<span class="comment">// On Windows, this is the user's display name.</span></span><br><span class="line">	<span class="comment">// On Plan 9, this is the contents of /dev/user.</span></span><br><span class="line">	Name <span class="keyword">string</span></span><br><span class="line">	<span class="comment">// HomeDir is the path to the user's home directory (if they have one).</span></span><br><span class="line">	HomeDir <span class="keyword">string</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>在os/user中的Group表示用户所属组<ul>
<li>Gid 组的id</li>
<li>Name 组的名称<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Group represents a grouping of users.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// On POSIX systems Gid contains a decimal number representing the group ID.</span></span><br><span class="line"><span class="keyword">type</span> Group <span class="keyword">struct</span> &#123;</span><br><span class="line">	Gid  <span class="keyword">string</span> <span class="comment">// group ID</span></span><br><span class="line">	Name <span class="keyword">string</span> <span class="comment">// group name</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>整个os/user包中内容比较少,提供了两个错误类型和获取当前用户,查找用户<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> UnknownUserError</span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="params">(e UnknownUserError)</span> <span class="title">Error</span><span class="params">()</span> <span class="title">string</span></span></span><br><span class="line"><span class="keyword">type</span> UnknownUserIdError</span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="params">(e UnknownUserIdError)</span> <span class="title">Error</span><span class="params">()</span> <span class="title">string</span></span></span><br><span class="line"><span class="keyword">type</span> User</span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">Current</span><span class="params">()</span> <span class="params">(*User, error)</span></span></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">Lookup</span><span class="params">(username <span class="keyword">string</span>)</span> <span class="params">(*User, error)</span></span></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">LookupId</span><span class="params">(uid <span class="keyword">string</span>)</span> <span class="params">(*User, error)</span></span></span><br></pre></td></tr></table></figure>


</li>
</ul>
<h2 id="代码示例"><a href="#代码示例" class="headerlink" title="代码示例"></a>代码示例</h2><ul>
<li>可以获取当前用户或查找用户后获取用户信息<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取当前登录用户</span></span><br><span class="line"><span class="comment">//u,_:=user.Current()</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Lookup()参数是用户名,按照用户名查找指定用户对象</span></span><br><span class="line"><span class="comment">注意:必须使用完整名称不可以只写zhang</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">u, _ := user.Lookup(<span class="string">`LAPTOP-APM56\maishuren`</span>)</span><br><span class="line">fmt.Println(u.Name)</span><br><span class="line">fmt.Println(u.Gid)</span><br><span class="line">fmt.Println(u.HomeDir)</span><br><span class="line">fmt.Println(u.Uid)</span><br><span class="line">fmt.Println(u.Username)</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h1 id="os包内容介绍"><a href="#os包内容介绍" class="headerlink" title="os包内容介绍"></a>os包内容介绍</h1><ul>
<li><p>使用os包中内容进行操作系统文件或目录</p>
</li>
<li><p>File结构体表示操作系统文件(夹)</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// File represents an open file descriptor.</span></span><br><span class="line"><span class="keyword">type</span> File <span class="keyword">struct</span> &#123;</span><br><span class="line">	*file <span class="comment">// os specific</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// file is the real representation of *File.</span></span><br><span class="line"><span class="comment">// The extra level of indirection ensures that no clients of os</span></span><br><span class="line"><span class="comment">// can overwrite this data, which could cause the finalizer</span></span><br><span class="line"><span class="comment">// to close the wrong file descriptor.</span></span><br><span class="line"><span class="keyword">type</span> file <span class="keyword">struct</span> &#123;</span><br><span class="line">	pfd     poll.FD</span><br><span class="line">	name    <span class="keyword">string</span></span><br><span class="line">	dirinfo *dirInfo <span class="comment">// nil unless directory being read</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>操作系统的文件都是有权限控制的,包含可读,可写等,在os包中FileMode表示文件权限,本质是uint32,可取值都以常量形式提供</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// A FileMode represents a file's mode and permission bits.</span></span><br><span class="line"><span class="comment">// The bits have the same definition on all systems, so that</span></span><br><span class="line"><span class="comment">// information about files can be moved from one system</span></span><br><span class="line"><span class="comment">// to another portably. Not all bits apply to all systems.</span></span><br><span class="line"><span class="comment">// The only required bit is ModeDir for directories.</span></span><br><span class="line"><span class="keyword">type</span> FileMode <span class="keyword">uint32</span></span><br></pre></td></tr></table></figure>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// The defined file mode bits are the most significant bits of the FileMode.</span></span><br><span class="line"><span class="comment">// The nine least-significant bits are the standard Unix rwxrwxrwx permissions.</span></span><br><span class="line"><span class="comment">// The values of these bits should be considered part of the public API and</span></span><br><span class="line"><span class="comment">// may be used in wire protocols or disk representations: they must not be</span></span><br><span class="line"><span class="comment">// changed, although new bits might be added.</span></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">	<span class="comment">// The single letters are the abbreviations</span></span><br><span class="line">	<span class="comment">// used by the String method's formatting.</span></span><br><span class="line">	ModeDir        FileMode = <span class="number">1</span> &lt;&lt; (<span class="number">32</span> - <span class="number">1</span> - <span class="literal">iota</span>) <span class="comment">// d: is a directory</span></span><br><span class="line">	ModeAppend                                     <span class="comment">// a: append-only</span></span><br><span class="line">	ModeExclusive                                  <span class="comment">// l: exclusive use</span></span><br><span class="line">	ModeTemporary                                  <span class="comment">// T: temporary file; Plan 9 only</span></span><br><span class="line">	ModeSymlink                                    <span class="comment">// L: symbolic link</span></span><br><span class="line">	ModeDevice                                     <span class="comment">// D: device file</span></span><br><span class="line">	ModeNamedPipe                                  <span class="comment">// p: named pipe (FIFO)</span></span><br><span class="line">	ModeSocket                                     <span class="comment">// S: Unix domain socket</span></span><br><span class="line">	ModeSetuid                                     <span class="comment">// u: setuid</span></span><br><span class="line">	ModeSetgid                                     <span class="comment">// g: setgid</span></span><br><span class="line">	ModeCharDevice                          <span class="comment">// c: Unix character device, when ModeDevice is set</span></span><br><span class="line">	ModeSticky                                     <span class="comment">// t: sticky</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// Mask for the type bits. For regular files, none will be set.</span></span><br><span class="line">	ModeType = ModeDir | ModeSymlink | ModeNamedPipe | ModeSocket | ModeDevice</span><br><span class="line"></span><br><span class="line">	ModePerm FileMode = <span class="number">0777</span> <span class="comment">// Unix permission bits</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure></li>
<li><p>FIleInfo是一个interface表示文件的信息</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// A FileInfo describes a file and is returned by Stat and Lstat.</span></span><br><span class="line"><span class="keyword">type</span> FileInfo <span class="keyword">interface</span> &#123;</span><br><span class="line">	Name() <span class="keyword">string</span>       <span class="comment">// base name of the file</span></span><br><span class="line">	Size() <span class="keyword">int64</span>        <span class="comment">// length in bytes for regular files; system-dependent for others</span></span><br><span class="line">	Mode() FileMode     <span class="comment">// file mode bits</span></span><br><span class="line">	ModTime() time.Time <span class="comment">// modification time</span></span><br><span class="line">	IsDir() <span class="keyword">bool</span>        <span class="comment">// abbreviation for Mode().IsDir()</span></span><br><span class="line">	Sys() <span class="keyword">interface</span>&#123;&#125;   <span class="comment">// underlying data source (can return nil)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="资源路径"><a href="#资源路径" class="headerlink" title="资源路径"></a>资源路径</h2></li>
<li><p>在获取系统资源时资源路径分为相对路径和绝对路径</p>
</li>
<li><p>相对路径:在Go语言中相对路径用于是GOPATH,也就是项目的根目录</p>
</li>
<li><p>绝对路径:磁盘根目录开始表示资源详细路径的描述</p>
<h2 id="代码示例-1"><a href="#代码示例-1" class="headerlink" title="代码示例"></a>代码示例</h2></li>
<li><p>Go语言标准库中提供了两种创建文件夹的方式</p>
</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">要求文件夹不存在且父目录必须存在,才能创建</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">//error := os.Mkdir("D:/godir", os.ModeDir)</span></span><br><span class="line"><span class="comment">//if error != nil &#123;</span></span><br><span class="line"><span class="comment">//	fmt.Println("文件夹创建失败",error)</span></span><br><span class="line"><span class="comment">//	return</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//fmt.Println("文件夹创建成功")</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">如果文件夹已经存在,不报错,保留原文件夹</span></span><br><span class="line"><span class="comment">如果父目录不存在帮助创建</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">error := os.MkdirAll(<span class="string">"D:/godir/a/b"</span>, os.ModeDir)</span><br><span class="line"><span class="keyword">if</span> error != <span class="literal">nil</span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">"文件夹创建失败"</span>,error)</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(<span class="string">"文件夹创建成功"</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>创建空文件<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">创建文件时要求文件目录必须已经存在</span></span><br><span class="line"><span class="comment">如果文件已经存在则会创建一个空文件覆盖之前的文件</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">file, err := os.Create(<span class="string">"D:/godir/test.txt"</span>)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">"文件创建失败,"</span>, err)</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(<span class="string">"文件创建成功"</span>,file.Name())</span><br></pre></td></tr></table></figure></li>
<li>重命名文件或文件夹<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">第一个参数:原文件夹名称,要求此路径是必须存在的</span></span><br><span class="line"><span class="comment">第二个参数:新文件夹名称</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">err := os.Rename(<span class="string">"D:/godir"</span>, <span class="string">"D:/godir1"</span>)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">"重命名文件夹失败,"</span>, err)</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(<span class="string">"文件夹重命名成功"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">重命名文件和重命名文件夹用法相同</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">err = os.Rename(<span class="string">"D:/godir1/test.txt"</span>, <span class="string">"D:/godir1/test1.txt"</span>)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">"重命名文件失败,"</span>, err)</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(<span class="string">"文件重命名成功"</span>)</span><br></pre></td></tr></table></figure></li>
<li>获取文件(夹)信息<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">f, err := os.Open(<span class="string">"D:/godir1/test1.txt"</span>)</span><br><span class="line"><span class="keyword">defer</span> f.Close() <span class="comment">//文件打开后要关闭,释放资源</span></span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">"打开文件失败"</span>, err)</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line">fileInfo, err := f.Stat()</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">"获取文件信息失败"</span>, err)</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(fileInfo.Name())    <span class="comment">//文件名</span></span><br><span class="line">fmt.Println(fileInfo.IsDir())   <span class="comment">//是否是文件夹,返回bool,true表示文件夹,false表示文件</span></span><br><span class="line">fmt.Println(fileInfo.Mode())    <span class="comment">//文件权限</span></span><br><span class="line">fmt.Println(fileInfo.ModTime()) <span class="comment">//修改时间</span></span><br><span class="line">fmt.Println(fileInfo.Size())    <span class="comment">//文件大小</span></span><br></pre></td></tr></table></figure></li>
<li>删除文件或文件夹<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">删除的内容只能是一个文件或空文件夹且必须存在</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">//err := os.Remove("D:/godir1/a")</span></span><br><span class="line"><span class="comment">//if err != nil &#123;</span></span><br><span class="line"><span class="comment">//	fmt.Println("文件删除失败", err)</span></span><br><span class="line"><span class="comment">//	return</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//fmt.Println("删除成功")</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">只要文件夹存在,删除文件夹.</span></span><br><span class="line"><span class="comment">无论文件夹是否有内容都会删除</span></span><br><span class="line"><span class="comment">如果删除目标是文件,则删除文件</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">err := os.RemoveAll(<span class="string">"D:/godir1/a.txt"</span>)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">"删除失败"</span>, err)</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(<span class="string">"删除成功"</span>)</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h1 id="输入流"><a href="#输入流" class="headerlink" title="输入流"></a>输入流</h1><ul>
<li><p>流(stream)是应用程序和外部资源进行数据交互的纽带</p>
</li>
<li><p>流分为输入流和输出流,输入和输出都是相对于程序,把外部数据传入到程序中叫做输入,反之叫做输出流</p>
</li>
<li><p>输入流(Input Stream),输入流(Output Stream) 平时所说的I/O流</p>
</li>
<li><p>在Go语言标准库中io包下是Reader接口表示输入流,只要实现这个接口就属于输入流</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Reader is the interface that wraps the basic Read method.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Read reads up to len(p) bytes into p. It returns the number of bytes</span></span><br><span class="line"><span class="comment">// read (0 &lt;= n &lt;= len(p)) and any error encountered. Even if Read</span></span><br><span class="line"><span class="comment">// returns n &lt; len(p), it may use all of p as scratch space during the call.</span></span><br><span class="line"><span class="comment">// If some data is available but not len(p) bytes, Read conventionally</span></span><br><span class="line"><span class="comment">// returns what is available instead of waiting for more.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// When Read encounters an error or end-of-file condition after</span></span><br><span class="line"><span class="comment">// successfully reading n &gt; 0 bytes, it returns the number of</span></span><br><span class="line"><span class="comment">// bytes read. It may return the (non-nil) error from the same call</span></span><br><span class="line"><span class="comment">// or return the error (and n == 0) from a subsequent call.</span></span><br><span class="line"><span class="comment">// An instance of this general case is that a Reader returning</span></span><br><span class="line"><span class="comment">// a non-zero number of bytes at the end of the input stream may</span></span><br><span class="line"><span class="comment">// return either err == EOF or err == nil. The next Read should</span></span><br><span class="line"><span class="comment">// return 0, EOF.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Callers should always process the n &gt; 0 bytes returned before</span></span><br><span class="line"><span class="comment">// considering the error err. Doing so correctly handles I/O errors</span></span><br><span class="line"><span class="comment">// that happen after reading some bytes and also both of the</span></span><br><span class="line"><span class="comment">// allowed EOF behaviors.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Implementations of Read are discouraged from returning a</span></span><br><span class="line"><span class="comment">// zero byte count with a nil error, except when len(p) == 0.</span></span><br><span class="line"><span class="comment">// Callers should treat a return of 0 and nil as indicating that</span></span><br><span class="line"><span class="comment">// nothing happened; in particular it does not indicate EOF.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Implementations must not retain p.</span></span><br><span class="line"><span class="keyword">type</span> Reader <span class="keyword">interface</span> &#123;</span><br><span class="line">	Read(p []<span class="keyword">byte</span>) (n <span class="keyword">int</span>, err error)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h2><ul>
<li>可以使用strings包下的NewReader创建字符串流<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">r := strings.NewReader(<span class="string">"hello 世界"</span>)</span><br><span class="line">b := <span class="built_in">make</span>([]<span class="keyword">byte</span>, r.Size())<span class="comment">//创建字节切片,存放流中数据,根据流数据大小创建切片大小</span></span><br><span class="line">n, err := r.Read(b)<span class="comment">//把流中数据读取到切片中</span></span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">"读取失败,"</span>, err)</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(<span class="string">"读取数据长度,"</span>, n)</span><br><span class="line"></span><br><span class="line">fmt.Println(<span class="string">"流中数据"</span>,<span class="keyword">string</span>(b))<span class="comment">//以字符串形式输入切片中数据</span></span><br></pre></td></tr></table></figure></li>
<li>最常用的是文件流,把外部文件中数据读取到程序中<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">f, err := os.Open(<span class="string">"D:/go.txt"</span>)<span class="comment">//打开文件</span></span><br><span class="line"><span class="keyword">defer</span> f.Close()</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">"文件读取失败,"</span>, err)</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line">fileInfo, err := f.Stat()<span class="comment">//获取文件信息</span></span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">"文件信息获取失败,"</span>, err)</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line">b := <span class="built_in">make</span>([]<span class="keyword">byte</span>, fileInfo.Size())<span class="comment">//根据文件中数据大小创建切片</span></span><br><span class="line">_, err = f.Read(b)<span class="comment">//读取数据到切片中</span></span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">"文件流读取失败:"</span>, err)</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(<span class="string">"文件中内容为:"</span>, <span class="keyword">string</span>(b))<span class="comment">//以字符串形式输入切片中数据</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h1 id="输入流-1"><a href="#输入流-1" class="headerlink" title="输入流"></a>输入流</h1><ul>
<li>输入流就是把程序中数据写出到外部资源</li>
<li>Go语言标准库中输出流是Writer接口<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Writer is the interface that wraps the basic Write method.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Write writes len(p) bytes from p to the underlying data stream.</span></span><br><span class="line"><span class="comment">// It returns the number of bytes written from p (0 &lt;= n &lt;= len(p))</span></span><br><span class="line"><span class="comment">// and any error encountered that caused the write to stop early.</span></span><br><span class="line"><span class="comment">// Write must return a non-nil error if it returns n &lt; len(p).</span></span><br><span class="line"><span class="comment">// Write must not modify the slice data, even temporarily.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Implementations must not retain p.</span></span><br><span class="line"><span class="keyword">type</span> Writer <span class="keyword">interface</span> &#123;</span><br><span class="line">	Write(p []<span class="keyword">byte</span>) (n <span class="keyword">int</span>, err error)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</li>
</ul>
<h2 id="代码操作"><a href="#代码操作" class="headerlink" title="代码操作"></a>代码操作</h2><ul>
<li>注意:输入流时不要使用<code>os.Open()</code>因为这种方式获取的文件是只读的<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">fp := <span class="string">"D:/go.txt"</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">第三个参数表示文件权限</span></span><br><span class="line"><span class="comment">第 1 位在权限中总是为 0</span></span><br><span class="line"><span class="comment">第 2 位为 0 表示文件不可以被读， 为 1 表示可以被读</span></span><br><span class="line"><span class="comment">第 3 位为 0 表示文件不可以被写， 为 1 表示可以被写</span></span><br><span class="line"><span class="comment">第 4 位为 0 表示文件不可以被执行， 为 1 表示可以被执行</span></span><br><span class="line"><span class="comment">整理如下:</span></span><br><span class="line"><span class="comment">   0(0000): 不可读写,不能被执行</span></span><br><span class="line"><span class="comment">   1(0001): 不可读写,能被执行</span></span><br><span class="line"><span class="comment">   2(0010): 可写不可读,不能被执行</span></span><br><span class="line"><span class="comment">   3(0011): 可写不可读,能被执行</span></span><br><span class="line"><span class="comment">   4(0100): 可读不可写,不能被执行</span></span><br><span class="line"><span class="comment">   5(0101): 可读不可写,能被执行</span></span><br><span class="line"><span class="comment">   6(0110): 可读写,不能执行</span></span><br><span class="line"><span class="comment">   7(0111): 可读写,可执行</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">0666:</span></span><br><span class="line"><span class="comment">第一个 0 表示这个数是 八进制</span></span><br><span class="line"><span class="comment">第一个 6 表示文件拥有者有读写权限，但没有执行权限</span></span><br><span class="line"><span class="comment">第二个 6 表示文件拥有者同组用户有读写权限，但没有执行权限</span></span><br><span class="line"><span class="comment">第三个 6 表示其它用户有读写权限，但没有执行权限</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//第二个参数表示文件内容追加</span></span><br><span class="line"><span class="comment">//第三个参数表示创建文件时文件权限</span></span><br><span class="line">f, err := os.OpenFile(fp, os.O_APPEND, <span class="number">0660</span>)</span><br><span class="line"><span class="keyword">defer</span> f.Close()</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">"文件不存在,创建文件"</span>)</span><br><span class="line">	f, _ = os.Create(fp)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">内容中识别特殊字符</span></span><br><span class="line"><span class="comment">\r\n 换行</span></span><br><span class="line"><span class="comment">\t 缩进</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">使用文件对象重写的Writer接口,参数是[]byte</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">f.Write([]<span class="keyword">byte</span>(<span class="string">"使用Writer接口写数据\r\n"</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">使用stringWriter接口的方法,参数是字符串,使用更方便</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">f.WriteString(<span class="string">"写了\t一段\r\n内容123"</span>)</span><br><span class="line">fmt.Println(<span class="string">"程序执行结束"</span>)</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h1 id="ioutil包"><a href="#ioutil包" class="headerlink" title="ioutil包"></a>ioutil包</h1><ul>
<li>ioutil包下提供了对文件读写的工具函数,通过这些函数快速实现文件的读写操作</li>
<li>ioutil包下提供的函数比较少,但是都是很方便使用的函数<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">func NopCloser(r io.Reader) io.ReadCloser</span><br><span class="line">func ReadAll(r io.Reader) ([]byte, error)</span><br><span class="line">func ReadFile(filename string) ([]byte, error)</span><br><span class="line">func WriteFile(filename string, data []byte, perm os.FileMode) error</span><br><span class="line">func ReadDir(dirname string) ([]os.FileInfo, error)</span><br><span class="line">func TempDir(dir, prefix string) (name string, err error)</span><br><span class="line">func TempFile(dir, prefix string) (f *os.File, err error)</span><br></pre></td></tr></table></figure>
<h2 id="代码演示-1"><a href="#代码演示-1" class="headerlink" title="代码演示"></a>代码演示</h2></li>
<li>打开完文件后可以使用ReadAll把文件中所有内容都读取到<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">f, err := os.Open(<span class="string">"D:/go.txt"</span>)</span><br><span class="line"><span class="keyword">defer</span> f.Close()</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">	fmt.Println(err)</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line">b, err := ioutil.ReadAll(f)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">	fmt.Println(err)</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(<span class="string">"文件中内容:\n"</span>, <span class="keyword">string</span>(b))</span><br></pre></td></tr></table></figure></li>
<li>也可以直接读取文件中内容<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">b, err := ioutil.ReadFile(<span class="string">"D:/go.txt"</span>)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">	fmt.Println(err)</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(<span class="keyword">string</span>(b))</span><br></pre></td></tr></table></figure></li>
<li>写文件也很简单,直接使用WriteFile函数即可,但是源码中已经规定此文件只能是可写状态,且不是尾加数据<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">err := ioutil.WriteFile(<span class="string">"D:/abc.txt"</span>, []<span class="keyword">byte</span>(<span class="string">"内容123123"</span>), <span class="number">0666</span>)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">	fmt.Println(err)</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(<span class="string">"数据写入成功"</span>)</span><br></pre></td></tr></table></figure></li>
<li>还提供了快速获取某个文件夹中所有文件信息的函数<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">fs,_:=ioutil.ReadDir(<span class="string">"D:/"</span>)</span><br><span class="line"><span class="keyword">for</span> _,n := <span class="keyword">range</span> fs &#123;</span><br><span class="line">	fmt.Println(n.Name())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<hr>
<p><a href="http://www.maishuren.top/posts/golang/202006111106-index.html" target="_blank">golang学习一：从环境配置开始到HelloWorld入门</a><br><a href="http://www.maishuren.top/posts/golang/202006122229-index.html" target="_blank">golang学习二：golang自带的工具</a><br><a href="http://www.maishuren.top/posts/golang/202006122240-index.html" target="_blank">olang学习三：golang基础语法</a><br><a href="http://www.maishuren.top/posts/golang/202006131013-index.html" target="_blank">golang学习四：流程控制</a><br><a href="http://www.maishuren.top/posts/golang/202006131027-index.html" target="_blank">golang学习五：常用数学函数与数组</a><br><a href="http://www.maishuren.top/posts/golang/202006131031-index.html" target="_blank">golang学习六：for循环</a><br><a href="http://www.maishuren.top/posts/golang/202006131037-index.html" target="_blank">golang学习七：goto和label</a><br><a href="http://www.maishuren.top/posts/gloang/202006131039-index.html" target="_blank">golang学习八：切片</a><br><a href="http://www.maishuren.top/posts/golang/202006182323-index.html" target="_blank">golang学习九：sort包、map、双向链表、双向循环链表</a><br><a href="http://www.maishuren.top/posts/golang/202006182334-index.html" target="_blank">golang学习十：函数</a><br><a href="http://www.maishuren.top/posts/golang/202006182343-index.html" target="_blank">golang学习十一：包的访问权限、变量作用域、闭包</a><br><a href="http://www.maishuren.top/posts/gloang/202006182347-index.html" target="_blank">golang学习十二：值传递和引用传递</a><br><a href="http://www.maishuren.top/posts/golang/202006182349-index.html" target="_blank">golang学习十三：结构体</a><br><a href="http://www.maishuren.top/posts/golang/202006182355-index.html" target="_blank">golang学习十四：golang中的面向对象</a><br><a href="http://www.maishuren.top/posts/goalng/202006201059-index.html" target="_blank">golang学习十五：错误异常处理</a><br><a href="http://www.maishuren.top/posts/goalng/202006201116-index.html" target="_blank">golang学习十六：文件操作</a><br><a href="http://www.maishuren.top/posts/goalng/202006201120-index.html" target="_blank">golang学习十七：反射</a><br><a href="http://www.maishuren.top/posts/goalng/202006201125-index.html" target="_blank">golang学习十八：XML操作</a><br><a href="http://www.maishuren.top/posts/golang/202006201131-index.html" target="_blank">golang学习十九：日志</a><br><a href="http://www.maishuren.top/posts/golang/202006201134-index.html" target="_blank">golang学习二十：golang并发编程入门</a><br><a href="http://www.maishuren.top/posts/golang/202006201149-index.html" target="_blank">golang学习二十一：select和GC</a></p>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">maishuren</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://www.maishuren.top/posts/goalng/202006201116-index.html">https://www.maishuren.top/posts/goalng/202006201116-index.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://www.maishuren.top" target="_blank">maiBlog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/golang/">golang</a><a class="post-meta__tags" href="/tags/%E5%85%A5%E9%97%A8/">入门</a></div><div class="post_share"><div class="social-share" data-image="https://code.aliyun.com/msr/blog-pic/raw/master/banner/blogbanner18.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="post-qr-code__img" src="/img/pay-for-weichat.png" alt="微信"/><div class="post-qr-code__desc">微信</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/posts/goalng/202006201120-index.html"><img class="prev_cover" src="https://code.aliyun.com/msr/blog-pic/raw/master/banner/blogbanner13.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">golang学习十七：反射</div></div></a></div><div class="next-post pull_right"><a href="/posts/goalng/202006201059-index.html"><img class="next_cover" src="https://code.aliyun.com/msr/blog-pic/raw/master/banner/blogbanner27.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">golang学习十五：错误异常处理</div></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/posts/golang/202006182323-index.html" title="golang学习九：sort包、map、双向链表、双向循环链表"><img class="relatedPosts_cover" src="https://code.aliyun.com/msr/blog-pic/raw/master/banner/blogbanner6.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-06-18</div><div class="relatedPosts_title">golang学习九：sort包、map、双向链表、双向循环链表</div></div></a></div><div class="relatedPosts_item"><a href="/posts/golang/202006201149-index.html" title="golang学习二十一：select和GC"><img class="relatedPosts_cover" src="https://code.aliyun.com/msr/blog-pic/raw/master/banner/blogbanner26.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-06-20</div><div class="relatedPosts_title">golang学习二十一：select和GC</div></div></a></div><div class="relatedPosts_item"><a href="/posts/golang/202006201131-index.html" title="golang学习十九：日志"><img class="relatedPosts_cover" src="https://code.aliyun.com/msr/blog-pic/raw/master/banner/blogbanner19.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-06-20</div><div class="relatedPosts_title">golang学习十九：日志</div></div></a></div><div class="relatedPosts_item"><a href="/posts/goalng/202006201125-index.html" title="golang学习十八：XML操作"><img class="relatedPosts_cover" src="https://code.aliyun.com/msr/blog-pic/raw/master/banner/blogbanner12.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-06-20</div><div class="relatedPosts_title">golang学习十八：XML操作</div></div></a></div><div class="relatedPosts_item"><a href="/posts/goalng/202006201120-index.html" title="golang学习十七：反射"><img class="relatedPosts_cover" src="https://code.aliyun.com/msr/blog-pic/raw/master/banner/blogbanner13.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-06-20</div><div class="relatedPosts_title">golang学习十七：反射</div></div></a></div><div class="relatedPosts_item"><a href="/posts/goalng/202006201059-index.html" title="golang学习十五：错误异常处理"><img class="relatedPosts_cover" src="https://code.aliyun.com/msr/blog-pic/raw/master/banner/blogbanner27.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-06-20</div><div class="relatedPosts_title">golang学习十五：错误异常处理</div></div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> 评论</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var requestSetting = function (from,set) {
  var from = from
  var setting = set.split(',').filter(function(item){
  return from.indexOf(item) > -1
  });
  setting = setting.length == 0 ? from :setting;
  return setting
}

var guestInfo = requestSetting(['nick','mail','link'],'nick,mail,link')
var requiredFields = requestSetting(['nick','mail','link'],'nick,mail')

window.valine = new Valine({
  el:'#vcomment',
  appId: '2i3wIjlONBKaR3lajGvjzAFG-gzGzoHsz',
  appKey: 'TeeAbRVflEynyYLIloSk30Xe',
  notify: false,
  verify: false,
  placeholder: 'Please leave your footprints',
  avatar: 'monsterid',
  meta: guestInfo,
  pageSize: '10',
  lang: 'zh-CN',
  recordIP: false,
  serverURLs: '',
  emojiCDN: '',
  emojiMaps: "",
  enableQQ: true,
  requiredFields: requiredFields
});</script></div></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2020 By maishuren</div><div class="icp"><a href="http://www.beian.miit.gov.cn/" target="_blank" rel="noopener"><img class="icp-icon" src="/img/icp.png"/><span>粤ICP备20006741号</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><div class="search-dialog" id="algolia-search"><div class="search-dialog__title" id="algolia-search-title">Algolia</div><div id="algolia-input-panel"><div id="algolia-search-input"></div></div><hr/><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-stats"></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="/js/third-party/fireworks.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/third-party/activate-power-mode.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@3/instantpage.min.js" type="module"></script><script src="/js/search/algolia.js"></script><script>var endLoading = function () {
  document.body.style.overflow = 'auto';
  document.getElementById('loading-box').classList.add("loaded")
}
window.addEventListener('load',endLoading)</script></body></html>